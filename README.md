

## اجرا (کپی و اجرا)
```bash
bash <(curl -sL https://raw.githubusercontent.com/raminol12/new6to4/main/tunnel-menu.sh)
```

> اگر به خاطر CRLF/ویندوزی بودن فایل خطای `^M` گرفتید، این نسخه را اجرا کنید:
```bash
bash <(curl -sL https://raw.githubusercontent.com/raminol12/new6to4/main/tunnel-menu.sh | tr -d '\r')
```

# راهنما 

## کارکرد اسکریپت
این اسکریپت یک منوی مدیریتی برای راه‌اندازی تونل **6to4(SIT)** و **GRE over IPv6 (ip6gre)** بین دو سرور **ایران ↔ خارج** است و تنظیمات را داخل `/etc/rc.local` می‌نویسد تا بعد از ریبوت خودکار اجرا شود.

### گزینه‌های منو
- **1) Setup on Iran server**
  - IP سرور ایران را خودکار تشخیص می‌دهد
  - IP سرور خارج را از شما می‌گیرد
  - پورت SSH را می‌پرسد (پیش‌فرض 22)
  - `/etc/rc.local` را جایگزین می‌کند و سپس ریبوت می‌کند (با تایید شما)

- **2) Setup on Foreign server**
  - IP سرور خارج را خودکار تشخیص می‌دهد
  - IP سرور ایران را از شما می‌گیرد
  - `/etc/rc.local` را جایگزین می‌کند و سپس ریبوت می‌کند (با تایید شما)

- **3) Ping 10.10.187.2**
- **4) Ping 10.10.187.1**
- **5) Status**
  - فقط `ONLINE` یا `OFFLINE` چاپ می‌کند (بر اساس UP بودن اینترفیس‌ها + داشتن IP صحیح + ping دوطرف)

## امنیت (مهم)
- اسکریپت **کل فایل** `/etc/rc.local` را **جایگزین** می‌کند (قبلش بکاپ می‌گیرد).
- اجرای اسکریپت باید با **root** باشد.
- قبل از تایید ریبوت، خلاصه تنظیمات نمایش داده می‌شود.
- **IP اشتباه** می‌تواند باعث قطع ارتباط شود؛ بهتر است دسترسی کنسول/Rescue از پنل VPS داشته باشید.

## پشتیبانی
Telegram: **@mrraminol**

